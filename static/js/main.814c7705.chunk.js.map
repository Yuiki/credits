{"version":3,"sources":["RegistrationStatus.ts","Requirements.ts","CourseList.tsx","RequirementView.tsx","confirmCourseMovement.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["RegistrationStatus","Requirement","title","description","courseToStatus","courseToRequirement","selectionToRequirement","requiredCreditsCount","this","getRequiredCreditsCount","getRegisteredCreditsCount","status","Acquired","includesExcess","Registered","Unregistered","RequirementWithChildren","children","creditsCount","reduce","previous","child","undefined","Math","min","RequirementWithCourses","courses","allowsOthers","course","courseStatus","get","SelectionRequirement","choices","CourseListItem","onClick","currentRequirement","newRequirement","disabled","ListGroup","Item","action","variant","className","code","Badge","CourseList","requirement","onCourseClick","map","key","has","entries","filter","includes","CreditsCountLabelDelimiter","ExceededCreditsCountLabel","CreditsCountLabels","acquiredCreditsCount","exceededAcquiredCreditsCount","registeredCreditsCount","exceededRegisteredCreditsCount","RequirementSummaryView","getStatus","RequirementWithChildrenView","showsOnlyRegistered","onSelectionChange","RequirementWithCoursesView","useState","isOpenWhenFalse","setIsOpenWhenFalse","isOpenWhenTrue","setIsOpenWhenTrue","useIsOpen","isOpen","setIsOpen","allCourses","registeredCourses","Accordion","activeKey","length","Button","block","Collapse","eventKey","SelectionRequirementView","Dropdown","Toggle","id","Menu","style","zIndex","choice","active","RequirementView","CourseMovementConfirmationModal","onReturn","onExited","show","setShow","Modal","onHide","Header","closeButton","Title","Body","Card","body","Footer","confirmCourseMovement","a","modals","setModals","Promise","resolve","reject","modal","value","newModals","e","courses0","isCompatible","$array","$object","$string","$number","Error","codeToCourse","Map","set","convertJSONToRichRequirement","json","$optional","courseCode","requirements0","console","log","App","setCourseToStatus","setCourseToRequirement","setSelectionToRequirement","setShowsOnlyRegistered","Array","handleCourseClick","currentStatus","Navbar","bg","Brand","Container","Alert","Form","Check","custom","label","checked","onChange","selection","chosen","newCourseToRequirement","clearCourseToRequirement","delete","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.814c7705.chunk.js","sourcesContent":["enum RegistrationStatus {\n    Unregistered = 0,\n    Registered = 1,\n    Acquired = 2,\n}\n\nexport default RegistrationStatus;","import Course from \"./Course\";\nimport RegistrationStatus from \"./RegistrationStatus\";\n\ntype Requirements = RequirementWithChildren | RequirementWithCourses | SelectionRequirement;\nexport default Requirements;\n\nabstract class Requirement {\n    constructor(readonly title: string, readonly description?: string) { }\n    abstract getRegisteredCreditsCount({ status, includesExcess, courseToStatus, courseToRequirement, selectionToRequirement }: {\n        status: RegistrationStatus,\n        includesExcess: boolean\n        courseToStatus: Map<Course, RegistrationStatus>,\n        courseToRequirement: Map<Course, Requirements>,\n        selectionToRequirement: Map<SelectionRequirement, Requirement>,\n    }): number;\n    abstract getRequiredCreditsCount(selectionToRequirement: Map<SelectionRequirement, Requirement>): number;\n    getStatus({ courseToStatus, courseToRequirement, selectionToRequirement }: {\n        courseToStatus: Map<Course, RegistrationStatus>,\n        courseToRequirement: Map<Course, Requirements>,\n        selectionToRequirement: Map<SelectionRequirement, Requirement>,\n    }): RegistrationStatus {\n        const requiredCreditsCount = this.getRequiredCreditsCount(selectionToRequirement);\n        return this.getRegisteredCreditsCount({ status: RegistrationStatus.Acquired, includesExcess: false, courseToStatus, courseToRequirement, selectionToRequirement }) >= requiredCreditsCount ?\n            RegistrationStatus.Acquired :\n            this.getRegisteredCreditsCount({ status: RegistrationStatus.Registered, includesExcess: false, courseToStatus, courseToRequirement, selectionToRequirement }) >= requiredCreditsCount ?\n                RegistrationStatus.Registered :\n                RegistrationStatus.Unregistered;\n    };\n}\n\nexport interface RequirementWithChildrenInit {\n    readonly title: string;\n    readonly description?: string;\n    readonly children: Iterable<Requirements>;\n    readonly creditsCount?: number;\n}\n\nexport class RequirementWithChildren extends Requirement implements RequirementWithChildrenInit {\n    readonly children: readonly Requirements[];\n    readonly creditsCount?: number;\n    constructor({ title, description, children, creditsCount }: RequirementWithChildrenInit) {\n        super(title, description);\n        this.children = [...children];\n        this.creditsCount = creditsCount;\n    }\n    getRegisteredCreditsCount({ status, includesExcess, courseToStatus, courseToRequirement, selectionToRequirement }: {\n        status: RegistrationStatus,\n        includesExcess: boolean\n        courseToStatus: Map<Course, RegistrationStatus>,\n        courseToRequirement: Map<Course, Requirements>,\n        selectionToRequirement: Map<SelectionRequirement, Requirement>,\n    }): number {\n        const creditsCount = this.children.reduce(\n            (previous, child) => previous + child.getRegisteredCreditsCount({ status, includesExcess, courseToStatus, courseToRequirement, selectionToRequirement }),\n            0);\n        return includesExcess || this.creditsCount === undefined ? creditsCount : Math.min(this.creditsCount, creditsCount);\n    }\n    getRequiredCreditsCount(selectionToRequirement: Map<SelectionRequirement, Requirement>): number {\n        return this.creditsCount === undefined ? this.children.reduce(\n            (previous, child) => previous + child.getRequiredCreditsCount(selectionToRequirement),\n            0) : this.creditsCount;\n    }\n}\n\nexport interface RequirementWithCoursesInit {\n    readonly title: string;\n    readonly description?: string;\n    readonly courses: Iterable<Course>;\n    readonly creditsCount: number;\n    readonly allowsOthers?: boolean;\n}\n\nexport class RequirementWithCourses extends Requirement {\n    readonly courses: readonly Course[];\n    readonly creditsCount: number;\n    readonly allowsOthers: boolean;\n    constructor({ title, description, courses, creditsCount, allowsOthers = false }: RequirementWithCoursesInit) {\n        super(title, description);\n        this.courses = [...courses];\n        this.creditsCount = creditsCount;\n        this.allowsOthers = allowsOthers;\n    }\n    getRegisteredCreditsCount({ status, includesExcess, courseToStatus, courseToRequirement }: {\n        status: RegistrationStatus,\n        includesExcess: boolean\n        courseToStatus: Map<Course, RegistrationStatus>,\n        courseToRequirement: Map<Course, Requirements>,\n    }): number {\n        const creditsCount = this.courses.reduce(\n            (previous, course) => {\n                const courseStatus = courseToStatus.get(course) || 0;\n                return courseToRequirement.get(course) === this && courseStatus >= status ? previous + course.creditsCount : previous;\n            },\n            0);\n        return includesExcess || this.creditsCount === undefined ? creditsCount : Math.min(this.creditsCount, creditsCount);\n    }\n    getRequiredCreditsCount() {\n        return this.creditsCount;\n    }\n}\n\nexport interface SelectionRequirementInit {\n    readonly title: string;\n    readonly description?: string;\n    readonly choices: Iterable<Requirements>\n}\n\nexport class SelectionRequirement extends Requirement implements SelectionRequirementInit {\n    readonly choices: readonly Requirements[]\n    constructor({ title, description, choices }: SelectionRequirementInit) {\n        super(title, description);\n        this.choices = [...choices];\n    }\n    getRegisteredCreditsCount({ status, includesExcess, courseToStatus, courseToRequirement, selectionToRequirement }: {\n        status: RegistrationStatus,\n        includesExcess: boolean\n        courseToStatus: Map<Course, RegistrationStatus>,\n        courseToRequirement: Map<Course, Requirements>,\n        selectionToRequirement: Map<SelectionRequirement, Requirement>,\n    }): number {\n        return (selectionToRequirement.get(this) || this.choices[0]).getRegisteredCreditsCount({ status, includesExcess, courseToStatus, courseToRequirement, selectionToRequirement });\n    }\n    getRequiredCreditsCount(selectionToRequirement: Map<SelectionRequirement, Requirement>): number {\n        return (selectionToRequirement.get(this) || this.choices[0]).getRequiredCreditsCount(selectionToRequirement);\n    }\n}","import React from 'react';\nimport { Badge, ListGroup } from \"react-bootstrap\";\nimport Course from \"./Course\";\nimport RegistrationStatus from \"./RegistrationStatus\";\nimport Requirements, { RequirementWithCourses } from \"./Requirements\";\n\nconst CourseListItem = ({ course, status, onClick, currentRequirement, newRequirement, disabled }: {\n    course: Course,\n    status: RegistrationStatus,\n    onClick: () => void,\n    currentRequirement: Requirements | undefined,\n    newRequirement: Requirements,\n    disabled: boolean,\n}) => (\n        <ListGroup.Item action disabled={disabled} onClick={onClick}\n            variant={\n                status === RegistrationStatus.Unregistered ? undefined :\n                    currentRequirement === newRequirement ?\n                        status === RegistrationStatus.Acquired ? 'success' : 'primary' :\n                        'dark'\n            }>\n            <div className=\"d-flex justify-content-between align-items-center\">\n                <div>\n                    <div>{course.title}</div>\n                    <code>{course.code}</code>\n                </div>\n                <div className=\"ml-2 text-right flex-shrink-0\">\n                    {\n                        status === RegistrationStatus.Unregistered || currentRequirement === newRequirement ?\n                            (<></>) :\n                            currentRequirement === undefined ?\n                                (<Badge variant=\"info\">?</Badge>) :\n                                (<Badge variant=\"warning\">!</Badge>)\n                    }\n                    <Badge variant={status === RegistrationStatus.Acquired ? 'success' : status === RegistrationStatus.Registered ? 'primary' : 'secondary'}>\n                        {status === RegistrationStatus.Acquired ? '修得済み' : status === RegistrationStatus.Registered ? '履修する' : '履修しない'}\n                    </Badge>\n                    <div><span className=\"text-muted\">単位数</span> <strong>{course.creditsCount}</strong></div>\n                </div>\n            </div>\n        </ListGroup.Item>\n    );\n\nconst CourseList = ({ requirement, courses, courseToStatus, courseToRequirement, onCourseClick }: {\n    requirement: RequirementWithCourses,\n    courses: readonly Course[],\n    courseToStatus: Map<Course, RegistrationStatus>,\n    courseToRequirement: Map<Course, Requirements>,\n    onCourseClick: (course: Course) => void,\n}) => (\n        <ListGroup>\n            {\n                courses.map((course: Course) => (\n                    <CourseListItem key={course.code} course={course}\n                        currentRequirement={courseToRequirement.get(course)}\n                        newRequirement={requirement}\n                        status={courseToStatus.get(course) || RegistrationStatus.Unregistered}\n                        onClick={() => onCourseClick(course)}\n                        disabled={\n                            (!courseToStatus.has(course) || courseToStatus.get(course) === RegistrationStatus.Unregistered) &&\n                            [...courseToStatus.entries()]\n                                .filter(([_, status]) => status !== RegistrationStatus.Unregistered)\n                                .map(([course, _]) => course.title)\n                                .includes(course.title)\n                        } />\n                ))\n            }\n        </ListGroup>\n    );\n\nexport default CourseList;","import React, { useState } from 'react';\nimport { Accordion, Badge, Button, Dropdown, ListGroup } from \"react-bootstrap\";\nimport Course from \"./Course\";\nimport CourseList from \"./CourseList\";\nimport RegistrationStatus from \"./RegistrationStatus\";\nimport Requirements, { RequirementWithChildren, RequirementWithCourses, SelectionRequirement } from \"./Requirements\";\n\nconst CreditsCountLabelDelimiter = () => (<span className=\"text-muted\"> / </span>)\n\nconst ExceededCreditsCountLabel = ({ creditsCount }: { creditsCount: number }) => (\n    <>\n        <span className=\"text-muted\">(</span>\n        +{creditsCount}\n        <span className=\"text-muted\">)</span>\n    </>\n)\n\nconst CreditsCountLabels = ({ requirement, courseToStatus, courseToRequirement, selectionToRequirement }: {\n    requirement: Requirements,\n    courseToStatus: Map<Course, RegistrationStatus>,\n    courseToRequirement: Map<Course, Requirements>,\n    selectionToRequirement: Map<SelectionRequirement, Requirements>,\n}) => {\n    const acquiredCreditsCount = requirement.getRegisteredCreditsCount({ status: RegistrationStatus.Acquired, courseToRequirement, courseToStatus, selectionToRequirement, includesExcess: false });\n    const exceededAcquiredCreditsCount = requirement.getRegisteredCreditsCount({ status: RegistrationStatus.Acquired, courseToRequirement, courseToStatus, selectionToRequirement, includesExcess: true });\n    const registeredCreditsCount = requirement.getRegisteredCreditsCount({ status: RegistrationStatus.Registered, courseToRequirement, courseToStatus, selectionToRequirement, includesExcess: false });\n    const exceededRegisteredCreditsCount = requirement.getRegisteredCreditsCount({ status: RegistrationStatus.Registered, courseToRequirement, courseToStatus, selectionToRequirement, includesExcess: true });\n    const requiredCreditsCount = requirement.getRequiredCreditsCount(selectionToRequirement);\n    return (\n        <div>\n            <span>\n                <span className=\"text-muted\">習得</span>\n                <> </>\n                <strong className=\"text-success\">{acquiredCreditsCount}</strong>\n                {exceededAcquiredCreditsCount > acquiredCreditsCount ? (<ExceededCreditsCountLabel creditsCount={exceededAcquiredCreditsCount - acquiredCreditsCount} />) : (<></>)}\n            </span>\n            <CreditsCountLabelDelimiter />\n            <span>\n                <span className=\"text-muted\">履修</span>\n                <> </>\n                <strong className=\"text-primary\">{registeredCreditsCount}</strong>\n                {exceededRegisteredCreditsCount > registeredCreditsCount ? (<ExceededCreditsCountLabel creditsCount={exceededRegisteredCreditsCount - registeredCreditsCount} />) : (<></>)}\n            </span>\n            <CreditsCountLabelDelimiter />\n            <span>\n                <span className=\"text-muted\">必要</span>\n                <> </>\n                <strong>{requiredCreditsCount}</strong>\n            </span>\n        </div>\n    )\n};\n\nexport const RequirementSummaryView = ({ requirement, courseToStatus, courseToRequirement, selectionToRequirement }: {\n    requirement: Requirements,\n    courseToStatus: Map<Course, RegistrationStatus>,\n    courseToRequirement: Map<Course, Requirements>,\n    selectionToRequirement: Map<SelectionRequirement, Requirements>,\n}) => {\n    const status = requirement.getStatus({ courseToStatus, courseToRequirement, selectionToRequirement });\n    return (\n        <>\n            <h5 className=\"d-flex justify-content-between align-items-center\">\n                <div>{requirement.title}</div>\n                <Badge className=\"ml-2 flex-shrink-0\" variant={status === RegistrationStatus.Acquired ? 'success' : status === RegistrationStatus.Registered ? 'primary' : 'secondary'}>\n                    {status === RegistrationStatus.Acquired ? '修得OK' : status === RegistrationStatus.Registered ? '履修OK' : '不足'}\n                </Badge>\n            </h5>\n            <div>\n                {requirement.description === undefined ? (<></>) : (<div className=\"text-muted\">{requirement.description}</div>)}\n                <CreditsCountLabels requirement={requirement} courseToStatus={courseToStatus} courseToRequirement={courseToRequirement} selectionToRequirement={selectionToRequirement} />\n            </div>\n        </>\n    );\n}\n\nconst RequirementWithChildrenView = ({ requirement, showsOnlyRegistered, courseToStatus, courseToRequirement, selectionToRequirement, onCourseClick, onSelectionChange }: {\n    requirement: RequirementWithChildren,\n    showsOnlyRegistered: boolean,\n    courseToStatus: Map<Course, RegistrationStatus>,\n    courseToRequirement: Map<Course, RequirementWithCourses>,\n    selectionToRequirement: Map<SelectionRequirement, Requirements>,\n    onCourseClick: (course: Course, requirement: RequirementWithCourses) => void,\n    onSelectionChange: (selection: SelectionRequirement, chosen: Requirements) => void,\n}) => (\n        <>\n            <RequirementSummaryView requirement={requirement} courseToStatus={courseToStatus} courseToRequirement={courseToRequirement} selectionToRequirement={selectionToRequirement} />\n            <ListGroup className=\"mt-2\">\n                {\n                    requirement.children.map(child => (\n                        <ListGroup.Item key={child.title}>\n                            <RequirementView requirement={child} showsOnlyRegistered={showsOnlyRegistered}\n                                courseToStatus={courseToStatus} courseToRequirement={courseToRequirement} selectionToRequirement={selectionToRequirement}\n                                onCourseClick={onCourseClick} onSelectionChange={onSelectionChange} />\n                        </ListGroup.Item>\n                    ))\n                }\n            </ListGroup>\n        </>\n    );\n\nconst RequirementWithCoursesView = ({ requirement, showsOnlyRegistered, courseToStatus, courseToRequirement, onCourseClick, selectionToRequirement }: {\n    requirement: RequirementWithCourses,\n    showsOnlyRegistered: boolean,\n    courseToStatus: Map<Course, RegistrationStatus>,\n    courseToRequirement: Map<Course, Requirements>,\n    selectionToRequirement: Map<SelectionRequirement, Requirements>,\n    onCourseClick: (course: Course, requirement: RequirementWithCourses) => void,\n    onSelectionChange: (selection: SelectionRequirement, chosen: Requirements) => void,\n}) => {\n    const useIsOpen = () => {\n        const [isOpenWhenFalse, setIsOpenWhenFalse] = useState(false);\n        const [isOpenWhenTrue, setIsOpenWhenTrue] = useState(true);\n        return showsOnlyRegistered ? [isOpenWhenTrue, setIsOpenWhenTrue] as const : [isOpenWhenFalse, setIsOpenWhenFalse] as const;\n    };\n\n    const [isOpen, setIsOpen] = useIsOpen();\n    const allCourses = requirement.courses;\n    const registeredCourses = requirement.courses.filter(course =>\n        courseToStatus.get(course) !== RegistrationStatus.Unregistered &&\n        requirement === courseToRequirement.get(course)\n    );\n\n    return (\n        <>\n            <Accordion activeKey={isOpen ? showsOnlyRegistered ? 'registered' : 'all' : ''}>\n                <div className={`bg-white ${isOpen ? 'sticky-top' : ''}`}>\n                    <RequirementSummaryView requirement={requirement} courseToStatus={courseToStatus} courseToRequirement={courseToRequirement} selectionToRequirement={selectionToRequirement} />\n                    {\n                        (showsOnlyRegistered ? registeredCourses : allCourses).length === 0 ? (\n                            <Button block className=\"mt-2\" variant=\"outline-secondary\" disabled>\n                                {showsOnlyRegistered ? '履修する' : ''}科目はありません\n                            </Button>\n                        ) : (\n                                <Button block className=\"mt-2\"\n                                    onClick={() => setIsOpen(!isOpen)}\n                                    variant={isOpen ? 'primary' : 'outline-secondary'} >\n                                    {showsOnlyRegistered ? '履修する' : ''}科目を{isOpen ? '非' : ''}表示\n                                </Button>\n                            )\n                    }\n                </div>\n                {\n                    [\n                        { courses: allCourses, key: 'all' },\n                        { courses: registeredCourses, key: 'registered' },\n                    ].map(({ courses, key }) => (\n                        <Accordion.Collapse key={key} eventKey={key}>\n                            {\n                                courses.length === 0 ? (<></>) : (\n                                    <div className=\"mt-2\">\n                                        <CourseList requirement={requirement} courses={courses}\n                                            courseToStatus={courseToStatus} courseToRequirement={courseToRequirement}\n                                            onCourseClick={course => onCourseClick(course, requirement)}\n                                        />\n                                    </div>\n                                )\n                            }\n                        </Accordion.Collapse>\n                    ))\n                }\n            </Accordion>\n        </>\n    );\n}\n\nconst SelectionRequirementView = ({ requirement, showsOnlyRegistered, courseToStatus, courseToRequirement, onCourseClick, selectionToRequirement, onSelectionChange }: {\n    requirement: SelectionRequirement,\n    showsOnlyRegistered: boolean,\n    courseToStatus: Map<Course, RegistrationStatus>,\n    courseToRequirement: Map<Course, RequirementWithCourses>,\n    selectionToRequirement: Map<SelectionRequirement, Requirements>,\n    onCourseClick: (course: Course, requirement: RequirementWithCourses) => void,\n    onSelectionChange: (selection: SelectionRequirement, chosen: Requirements) => void,\n}) => (\n        <>\n            <Dropdown>\n                <Dropdown.Toggle id=\"\" variant=\"secondary\">{requirement.title} を変更</Dropdown.Toggle>\n\n                <Dropdown.Menu style={{ zIndex: 1100 }}>\n                    {\n                        requirement.choices.map(choice => (\n                            <Dropdown.Item key={choice.title}\n                                active={choice === (selectionToRequirement.get(requirement) || requirement.choices[0])}\n                                onClick={() => onSelectionChange(requirement, choice)}>\n                                {choice.title}\n                            </Dropdown.Item>\n                        ))\n                    }\n                </Dropdown.Menu>\n            </Dropdown>\n            <div className=\"mt-2\">\n                <RequirementView requirement={selectionToRequirement.get(requirement) || requirement.choices[0]}\n                    showsOnlyRegistered={showsOnlyRegistered}\n                    courseToStatus={courseToStatus} courseToRequirement={courseToRequirement}\n                    onCourseClick={onCourseClick} onSelectionChange={onSelectionChange}\n                    selectionToRequirement={selectionToRequirement} />\n            </div>\n        </>\n    );\n\nconst RequirementView = ({ requirement, showsOnlyRegistered, courseToStatus, courseToRequirement, onCourseClick, onSelectionChange, selectionToRequirement }: {\n    requirement: Requirements,\n    showsOnlyRegistered: boolean,\n    courseToStatus: Map<Course, RegistrationStatus>,\n    courseToRequirement: Map<Course, RequirementWithCourses>,\n    selectionToRequirement: Map<SelectionRequirement, Requirements>,\n    onCourseClick: (course: Course, requirement: RequirementWithCourses) => void,\n    onSelectionChange: (selection: SelectionRequirement, chosen: Requirements) => void,\n}) =>\n    requirement instanceof RequirementWithChildren ? (<RequirementWithChildrenView showsOnlyRegistered={showsOnlyRegistered} onCourseClick={onCourseClick} requirement={requirement} courseToStatus={courseToStatus} courseToRequirement={courseToRequirement} selectionToRequirement={selectionToRequirement} onSelectionChange={onSelectionChange} />) :\n        requirement instanceof RequirementWithCourses ? (<RequirementWithCoursesView showsOnlyRegistered={showsOnlyRegistered} onCourseClick={onCourseClick} requirement={requirement} courseToStatus={courseToStatus} courseToRequirement={courseToRequirement} selectionToRequirement={selectionToRequirement} onSelectionChange={onSelectionChange} />) :\n            (<SelectionRequirementView requirement={requirement} showsOnlyRegistered={showsOnlyRegistered} onCourseClick={onCourseClick} courseToStatus={courseToStatus} courseToRequirement={courseToRequirement} selectionToRequirement={selectionToRequirement} onSelectionChange={onSelectionChange} />);\n\n\nexport default RequirementView;\n","import React, { useState } from \"react\";\nimport { Button, Card, Modal } from \"react-bootstrap\";\nimport Course from \"./Course\";\nimport RegistrationStatus from \"./RegistrationStatus\";\nimport Requirements, { RequirementWithCourses, SelectionRequirement } from \"./Requirements\";\nimport { RequirementSummaryView } from \"./RequirementView\";\n\nconst CourseMovementConfirmationModal = ({ currentRequirement, courseToStatus, courseToRequirement, selectionToRequirement, onReturn, onExited }: {\n    currentRequirement: RequirementWithCourses,\n    courseToStatus: Map<Course, RegistrationStatus>,\n    courseToRequirement: Map<Course, Requirements>,\n    selectionToRequirement: Map<SelectionRequirement, Requirements>,\n    onReturn: (value: boolean) => void,\n    onExited: () => void,\n}) => {\n    const [show, setShow] = useState(true);\n\n    return (\n        <Modal show={show} onHide={() => { setShow(false); onReturn(false); }} onExited={onExited}>\n            <Modal.Header closeButton>\n                <Modal.Title>割り当てる要件を変更</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <p>\n                    この科目はすでに以下の要件に割り当てられています。\n                    <strong>続けると、この要件への割り当ては解除されます。</strong>\n                </p>\n                <p>各科目に割り当てできる要件は1つまでです。</p>\n                <Card body>\n                    <RequirementSummaryView requirement={currentRequirement} courseToStatus={courseToStatus} courseToRequirement={courseToRequirement} selectionToRequirement={selectionToRequirement} />\n                </Card>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"secondary\" onClick={() => { setShow(false); onReturn(false); }}>キャンセル</Button>\n                <Button variant=\"primary\" onClick={() => { setShow(false); onReturn(true); }}>続ける</Button>\n            </Modal.Footer>\n        </Modal>\n    );\n};\n\nconst confirmCourseMovement = async ({ currentRequirement, courseToStatus, courseToRequirement, selectionToRequirement, modals, setModals }: {\n    currentRequirement: RequirementWithCourses,\n    courseToStatus: Map<Course, RegistrationStatus>,\n    courseToRequirement: Map<Course, Requirements>,\n    selectionToRequirement: Map<SelectionRequirement, Requirements>,\n    modals: JSX.Element[],\n    setModals: React.Dispatch<React.SetStateAction<JSX.Element[]>>\n}): Promise<boolean> => {\n    return new Promise((resolve, reject) => {\n        try {\n            const modal = (\n                <CourseMovementConfirmationModal\n                    currentRequirement={currentRequirement}\n                    courseToStatus={courseToStatus} courseToRequirement={courseToRequirement} selectionToRequirement={selectionToRequirement}\n                    onReturn={value => resolve(value)}\n                    onExited={() => {\n                        setModals(newModals.filter(value => value !== modal));\n                    }}\n                />\n            );\n            const newModals = [...modals, modal];\n            setModals(newModals);\n        } catch (e) {\n            reject(e);\n        }\n    });\n};\n\nexport default confirmCourseMovement;","import { $array, $number, $object, $optional, $string, isCompatible } from '@hiroto/json-type-checker';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport React, { useState } from 'react';\nimport { Alert, Container, Form, Navbar } from 'react-bootstrap';\nimport './App.css';\nimport requirements0 from './coins17.json';\nimport Course from './Course';\nimport courses0 from './courses1.json';\nimport RegistrationStatus from './RegistrationStatus';\nimport Requirements, { RequirementWithChildren, RequirementWithCourses, SelectionRequirement } from './Requirements';\nimport RequirementView from './RequirementView';\nimport confirmCourseMovement from './confirmCourseMovement';\n\nconst courses: unknown = courses0;\n\nif (!isCompatible(courses, $array($object({\n    title: $string,\n    code: $string,\n    creditsCount: $number,\n})))) {\n    throw new Error('科目定義が不正です');\n}\n\nconst codeToCourse = new Map<string, Course>();\nfor (const course of courses) {\n    codeToCourse.set(course.code, course);\n}\n\nconst convertJSONToRichRequirement = (json: unknown): Requirements => {\n    if (isCompatible(json, $object({\n        title: $string,\n        description: $optional($string),\n        creditsCount: $number,\n        courses: $array($string),\n    }))) {\n        return new RequirementWithCourses({\n            title: json.title,\n            description: json.description,\n            creditsCount: json.creditsCount,\n            courses: json.courses.map(courseCode => {\n                const course = codeToCourse.get(courseCode);\n                if (course === undefined) { throw new Error(`要件定義が不正です。科目番号 ${courseCode} は定義されていません。`); }\n                return course;\n            })\n        });\n    } else if (isCompatible(json, $object({\n        title: $string,\n        description: $optional($string),\n        children: $array($object({})),\n        creditsCount: $optional($number),\n    }))) {\n        return new RequirementWithChildren({\n            title: json.title,\n            description: json.description,\n            children: json.children.map(child => convertJSONToRichRequirement(child)),\n            creditsCount: json.creditsCount,\n        });\n    } else if (isCompatible(json, $object({\n        title: $string,\n        description: $optional($string),\n        choices: $array($object({})),\n    }))) {\n        return new SelectionRequirement({\n            title: json.title,\n            description: json.description,\n            choices: json.choices.map(choice => convertJSONToRichRequirement(choice)),\n        })\n    } else {\n        throw new Error('要件定義が不正です。')\n    }\n}\n\nconst requirement = convertJSONToRichRequirement(requirements0);\n\nconsole.log(requirement);\n\nconst App = () => {\n    const [courseToStatus, setCourseToStatus] = useState(new Map<Course, RegistrationStatus>());\n    const [courseToRequirement, setCourseToRequirement] = useState(new Map<Course, RequirementWithCourses>());\n    const [selectionToRequirement, setSelectionToRequirement] = useState(new Map<SelectionRequirement, Requirements>());\n    const [showsOnlyRegistered, setShowsOnlyRegistered] = useState(false);\n    const [modals, setModals] = useState(new Array<JSX.Element>());\n\n    const handleCourseClick = async (course: Course, requirement: RequirementWithCourses) => {\n        const currentStatus: RegistrationStatus = courseToStatus.get(course) || RegistrationStatus.Unregistered;\n        const currentRequirement = courseToRequirement.get(course);\n        if (currentStatus === RegistrationStatus.Unregistered || currentRequirement === requirement) {\n            setCourseToStatus(new Map(\n                [...courseToStatus, [\n                    course,\n                    showsOnlyRegistered ?\n                        currentStatus === RegistrationStatus.Acquired ? RegistrationStatus.Registered : RegistrationStatus.Acquired :\n                        (currentStatus + 1) % 3\n                ]]\n            ));\n        } else if (\n            currentRequirement !== undefined &&\n            !await confirmCourseMovement({ currentRequirement, courseToStatus, courseToRequirement, selectionToRequirement, modals, setModals })\n        ) {\n            return;\n        }\n        setCourseToRequirement(new Map([...courseToRequirement, [course, requirement]]));\n    }\n\n    const clearCourseToRequirement = (requirement: Requirements, newCourseToRequirement: Map<Course, RequirementWithCourses>) => {\n        if (requirement instanceof RequirementWithChildren) {\n            for (const child of requirement.children) {\n                clearCourseToRequirement(child, newCourseToRequirement);\n            }\n        } else if (requirement instanceof RequirementWithCourses) {\n            for (const course of requirement.courses) {\n                if (newCourseToRequirement.get(course) === requirement) {\n                    newCourseToRequirement.delete(course);\n                }\n            }\n        } else {\n            clearCourseToRequirement(selectionToRequirement.get(requirement) || requirement.choices[0], newCourseToRequirement);\n        }\n    }\n\n    const handleSelectionChange = (selection: SelectionRequirement, chosen: Requirements) => {\n        const newCourseToRequirement = new Map(courseToRequirement);\n        clearCourseToRequirement(selection, newCourseToRequirement);\n        setCourseToRequirement(newCourseToRequirement);\n        setSelectionToRequirement(new Map([...selectionToRequirement, [selection, chosen]]));\n    }\n\n\n    return (\n        <>\n            {modals}\n            <Navbar variant=\"dark\" bg=\"dark\">\n                <Navbar.Brand>卒業要件を満たしたい</Navbar.Brand>\n            </Navbar>\n            <Container>\n                <Alert variant=\"danger\" className=\"mt-3\">\n                    このツールの結果を利用する場合、必ず履修要覧や支援室などでその結果が正しいことを確認するようにしてください。\n                    <strong>科目や要件の定義が誤っていたり、実際には認められない履修の組み合わせがある可能性があります。</strong>\n                </Alert>\n                <Form className=\"mt-3\">\n                    <Form.Check custom label=\"履修する科目のみ表示する\" id=\"showsOnlyRegisteredCheck\"\n                        checked={showsOnlyRegistered}\n                        onChange={() => setShowsOnlyRegistered(!showsOnlyRegistered)} />\n                </Form>\n                <div className=\"my-3\">\n                    <RequirementView requirement={requirement} showsOnlyRegistered={showsOnlyRegistered}\n                        courseToStatus={courseToStatus} courseToRequirement={courseToRequirement} selectionToRequirement={selectionToRequirement}\n                        onCourseClick={handleCourseClick} onSelectionChange={handleSelectionChange} />\n                </div>\n            </Container>\n        </>\n    );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}